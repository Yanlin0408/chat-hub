{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yanlinchen/Documents/CHAT-hub/chat-hub/mobile/screens/RegisterScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useLayoutEffect, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { StatusBar } from \"expo-status-bar\";\nimport DarkTheme from \"../constant/darkTheme\";\nimport { Input, Image, Button } from \"react-native-elements\";\nimport LoginScreen from \"./LoginScreen\";\nimport InputStyle from \"../constant/inputContainer\";\nimport io from \"socket.io-client\";\nimport { auth } from \"../firebase\";\n\nvar RegisterScreen = function RegisterScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      imageUrl = _useState8[0],\n      setImageUrl = _useState8[1];\n\n  var socket = io(\"http://192.168.1.71:3000/\");\n  socket.connect();\n  socket.emit(\"yo\", \"heyheyhey\");\n\n  var register = function register() {\n    auth.createUserWithEmailAndPassword(email, password).then(function (authUser) {\n      authUser.user.update({\n        displayName: name,\n        photoURL: imageUrl || \"http://img.crcz.com/allimg/202003/03/1583242569661699.jpg\"\n      });\n    }).catch(function (error) {\n      return alert(error.message);\n    });\n  };\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerBackTitle: \"back\",\n      headerStyle: {\n        backgroundColor: DarkTheme.grey\n      },\n      headerTitleStyle: {\n        marginLeft: 10,\n        fontSize: 20\n      }\n    });\n  }, [navigation]);\n  return React.createElement(KeyboardAvoidingView, {\n    behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss,\n    style: styles.touchable,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, React.createElement(StatusBar, {\n    style: \"light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), React.createElement(Text, {\n    style: {\n      height: 40,\n      textAlign: \"center\",\n      fontSize: 26,\n      color: DarkTheme.grey,\n      borderRadius: 3,\n      marginBottom: 20,\n      backgroundColor: DarkTheme.black\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"create a chathub account\"), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, React.createElement(StatusBar, {\n    style: \"light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    autofocus: true,\n    value: name,\n    placeholder: \"Full name\",\n    placeholderTextColor: DarkTheme.grey,\n    style: styles.input,\n    onChangeText: function onChangeText(text) {\n      return setName(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    value: email,\n    placeholder: \"Email\",\n    placeholderTextColor: DarkTheme.grey,\n    style: styles.input,\n    onChangeText: function onChangeText(text) {\n      return setEmail(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    secureTextEntry: true,\n    value: password,\n    placeholder: \"Password\",\n    placeholderTextColor: DarkTheme.grey,\n    style: styles.input,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    value: imageUrl,\n    placeholder: \"Profile Picture Url (optional)\",\n    placeholderTextColor: DarkTheme.grey,\n    style: styles.input,\n    onChangeText: function onChangeText(text) {\n      return setImageUrl(text);\n    },\n    onSubmitEditing: register,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }), React.createElement(Button, {\n    title: \"Register\",\n    buttonStyle: {\n      backgroundColor: DarkTheme.orange\n    },\n    titleStyle: {\n      color: \"black\"\n    },\n    containerStyle: {\n      width: \"100%\",\n      marginVertical: 10\n    },\n    onPress: register,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }), React.createElement(View, {\n    style: {\n      height: 80\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default RegisterScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: DarkTheme.black,\n    justifyContent: \"center\",\n    padding: 20\n  },\n  input: _objectSpread({}, InputStyle)\n});","map":{"version":3,"sources":["/Users/yanlinchen/Documents/CHAT-hub/chat-hub/mobile/screens/RegisterScreen.js"],"names":["React","useState","useLayoutEffect","useEffect","StatusBar","DarkTheme","Input","Image","Button","LoginScreen","InputStyle","io","auth","RegisterScreen","navigation","email","setEmail","name","setName","password","setPassword","imageUrl","setImageUrl","socket","connect","emit","register","createUserWithEmailAndPassword","then","authUser","user","update","displayName","photoURL","catch","error","alert","message","setOptions","headerBackTitle","headerStyle","backgroundColor","grey","headerTitleStyle","marginLeft","fontSize","Platform","OS","styles","container","Keyboard","dismiss","touchable","height","textAlign","color","borderRadius","marginBottom","black","input","text","orange","width","marginVertical","StyleSheet","create","flex","justifyContent","padding"],"mappings":"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","sourcesContent":["import React, {useState, useLayoutEffect, useEffect} from 'react'\nimport { StyleSheet,Platform, TextInput, Text, View, KeyboardAvoidingView, TouchableWithoutFeedback, Keyboard } from 'react-native'\nimport {StatusBar} from \"expo-status-bar\"\nimport DarkTheme from \"../constant/darkTheme\"\nimport { Input, Image, Button} from \"react-native-elements\"\nimport LoginScreen from \"./LoginScreen\"\nimport InputStyle from \"../constant/inputContainer\"\nimport io from \"socket.io-client\"\nimport {auth} from \"../firebase\"\n\nconst RegisterScreen = ({navigation}) => {\n    const [email, setEmail] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [imageUrl, setImageUrl] = useState(\"\");\n\n    const socket = io(\"http://192.168.1.71:3000/\");\n    socket.connect();\n    socket.emit(\"yo\",\"heyheyhey\");\n\n    const register = () => {\n        auth\n        .createUserWithEmailAndPassword(email, password)\n        .then((authUser) => {\n            authUser.user.update({\n                displayName: name,\n                photoURL: imageUrl || \"http://img.crcz.com/allimg/202003/03/1583242569661699.jpg\",\n            });\n        })\n        .catch((error) => alert(error.message));\n    };\n\n    useLayoutEffect(() => {\n        navigation.setOptions({\n            //headerTitle: \"login\",\n            headerBackTitle: \"back\",\n            headerStyle: {\n                backgroundColor: DarkTheme.grey,\n            },\n            headerTitleStyle: {\n                marginLeft: 10,\n                fontSize: 20,\n            },\n        //     headerLeft: () => (\n        //     <Button style = {{marginLeft:40}} onPress={() => navigation.navigate({name: LoginScreen})} />\n        //   ),\n        });\n        \n    }, [navigation]);\n\n    // useEffect(() => {\n    //     setTimeout(() => {\n    //         setName(\"bitch\");\n    //         // navigation.navigate(\"Login\");\n    //         navigation.navigate({name: LoginScreen});\n    //     }, 3000);\n        \n    // }, [name])\n\n    // useLayoutEffect(() => {\n    //     effect\n    //     return () => {\n    //         cleanup\n    //     };\n    // }, [input])\n\n    return (\n        <KeyboardAvoidingView behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"} style = {styles.container}>\n            <TouchableWithoutFeedback onPress={Keyboard.dismiss} style = {styles.touchable}>\n                <View>\n                    <StatusBar style = \"light\"/>\n                    <Text \n                    style = {{\n                        height:40, \n                        textAlign:\"center\", \n                        fontSize:26, \n                        color:DarkTheme.grey, \n                        borderRadius: 3, \n                        marginBottom: 20, \n                        backgroundColor: DarkTheme.black}}>create a chathub account</Text>\n                    <View>\n                        <StatusBar style = \"light\"/>\n                        <TextInput\n                            autofocus\n                            value = {name}\n                            placeholder = \"Full name\"\n                            placeholderTextColor={DarkTheme.grey} \n                            style = {styles.input}\n                            onChangeText = {(text) => setName(text)}\n                        />\n                        <TextInput\n                            value = {email}\n                            placeholder = \"Email\"\n                            placeholderTextColor={DarkTheme.grey}\n                            style = {styles.input}\n                            onChangeText = {(text) => setEmail(text)}\n                        />\n                        <TextInput\n                            secureTextEntry\n                            value = {password}\n                            placeholder = \"Password\"\n                            placeholderTextColor={DarkTheme.grey}\n                            style = {styles.input}\n                            onChangeText = {(text) => setPassword(text)}\n                        />\n                        <TextInput\n                            value = {imageUrl}\n                            placeholder = \"Profile Picture Url (optional)\"\n                            placeholderTextColor={DarkTheme.grey}\n                            style = {styles.input}\n                            onChangeText = {(text) => setImageUrl(text)}\n                            onSubmitEditing = {register}\n                        />\n                        <Button\n                            title=\"Register\"\n                            buttonStyle={{\n                            backgroundColor: DarkTheme.orange,\n                            }}\n                            titleStyle={{ color: \"black\" }}\n                            containerStyle={{\n                            width: \"100%\",\n                            marginVertical: 10,\n                            }}\n                            onPress = {register}\n                            />\n                        <View style = {{height:80}}/>\n                    </View>\n                </View>\n            \n            </TouchableWithoutFeedback>\n        </KeyboardAvoidingView>\n    )\n}\n\nexport default RegisterScreen\n\nconst styles = StyleSheet.create({\n    container: {\n        flex:1,\n        backgroundColor: DarkTheme.black,\n        justifyContent: \"center\",\n        padding: 20,\n    },\n    input: {\n        ...InputStyle, \n        // width:300,\n    },\n})\n"]},"metadata":{},"sourceType":"module"}